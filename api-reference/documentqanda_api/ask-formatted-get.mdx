---
title: Ask Pyq AI with Formatted Output
api: "GET https://document-query.pyqai.com/ask-formatted"
description: "This endpoint answers a query using documents in an index, and gives the output in a user-specified format."
---

### Query Parameters

<ParamField query="account_id" type="int">
  This is your account ID.
</ParamField>

<ParamField query="index_name" type="string">
  This is the name of the index you wish to remove the document from.
</ParamField>

<ParamField query="input_sequence" type="string">
  This is the query you wish to answer using documents from the given index.
</ParamField>

<ParamField query="response_type" type="string">
  This is the type you would like your answer to be in. str, int, float, bool, list[str], list[bool], list[int], list[float] are supported.  
</ParamField>

<ParamField query="name" type="string">
  This is the name of the JSON field you wish to be populated.
</ParamField>

<ParamField query="description" type="string">
  This is a description of the field that will be populated.  This helps the AI extract the correct information and make sure it is in the correct type.
</ParamField>

### Headers

<ParamField header="Authorization" type="string">
  This is your API token associated with your account.
</ParamField>

### Response

<ResponseField name="formatted_response" type="string">
  This will contain your response, formatted in the way you specified.
</ResponseField>

<ResponseField name="response" type="string">
  This contains a natural language response and relevant sources, as specified in the ask endpoint documentation.
</ResponseField>

<RequestExample>

```bash Example Request
curl --location 'https://document-query.pyqai.com/ask-formatted?account_id=ExampleAccountId&index_name=ExampleIndex&input_sequence=ExampleQuery&description=Description of the output you want&response_type=list[str]&name=str_list_output'\
--header 'Authorization: ExampleToken'
```

</RequestExample>

<ResponseExample>

```json Response
{
      "formatted_response": {
        "sample_str_list_field_name": ["sample str output 1", "sample str output 2"]
    },
    "response": {
        "question": "Your input sequence query!",
        "answer": "Pyq's AI has answered your query.\n",
        "sources": "source_1, source_2, source_3",
        "source_documents": [
            {
                "page_content": "Some information from your documents.",
                "metadata": {
                    "source": "source_1"
                }
            },
            {
                "page_content": "Some information from your documents.",
                "metadata": {
                    "source": "source_2"
                }
            },
            {
                "page_content": "Some information from your documents.",
                "metadata": {
                    "source": "source_3"
                }
            }
        ]
    }
}
```

</ResponseExample>
